{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":[" export function searchImg(query) {\n    const mainUrl = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '43997530-fac9ffe50b9517751943b9e7a',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    const url = `${mainUrl}?${params}`;\n    return fetch(url)\n        .then(res => {\n            if (!res) {\n                throw new Error(res.statusText);\n            }\n            return res.json();\n    })\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function imgCreated(image) {\n    return `<li class=\"img-item\">\n    <a class=\"img-link\" href=\"${image.largeImageURL}\">\n    <img class=\"image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n<div class=\"img-info\">\n    <p class=\"info\"><b>Likes</b> ${image.likes}</p>\n    <p class=\"info\"><b>Views</b> ${image.views}</p>\n    <p class=\"info\"><b>Comments</b> ${image.comments}</p>\n    <p class=\"info\"><b>Downloads</b> ${image.downloads}</p>\n   </div>\n    </li>`;\n}\n\nexport function imgTemplate(array) {\n    return array.map(imgCreated).join(\"\");\n};\n\n\nexport function imagesGallery() {\n    let newLightBox =  new SimpleLightbox('gallery, a',{\n        captionsData: 'alt',\n        captionDelay: 250\n    });\n   newLightBox.refresh();\n};\n\n\n\n","import { searchImg } from \"./js/pixabay-api\";\nimport { imgCreated } from \"./js/render-functions\";\nimport { imgTemplate } from \"./js/render-functions\";\nimport { imagesGallery } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\n\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n    \n    showLoader();\n\n    const query = event.target.elements.query.value.trim();\n\n    searchImg(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: `Sorry, there are no images matching your search query.Please try again!`,\n                    messageColor: '#FAFAFB',\n                    color: '#EF4040',\n                    position: 'topRight'\n                });\n                return;\n                \n            }\n            else {\n                \n                const markup = imgTemplate(data.hits);\n                gallery.innerHTML = markup;\n                showLoader();\n                imagesGallery();\n                \n            }\n        })\n    \n        .catch(error => console.log(error))\n        .finally(() => {\n            event.target.reset();\n             hideLoader();\n        })\n   \n});\n\n\nfunction showLoader() {\n    loader.style.display = \"block\";\n};\n\nfunction hideLoader() {\n    loader.style.display = \"none\";\n};"],"names":["searchImg","query","mainUrl","params","url","res","imgCreated","image","imgTemplate","array","imagesGallery","SimpleLightbox","form","gallery","loader","event","showLoader","data","iziToast","markup","error","hideLoader"],"mappings":"6vBAAQ,SAASA,EAAUC,EAAO,CAC9B,MAAMC,EAAU,2BACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEKG,EAAM,GAAGF,CAAO,IAAIC,CAAM,GAChC,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAO,CACT,GAAI,CAACA,EACD,MAAM,IAAI,MAAMA,EAAI,UAAU,EAElC,OAAOA,EAAI,MACvB,CAAK,CACL,CCfgB,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAWC,EAAO,CAC9B,MAAO;AAAA,gCACqBA,EAAM,aAAa;AAAA,8BACrBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,mCAEjCA,EAAM,KAAK;AAAA,mCACXA,EAAM,KAAK;AAAA,sCACRA,EAAM,QAAQ;AAAA,uCACbA,EAAM,SAAS;AAAA;AAAA,UAGtD,CAEO,SAASC,EAAYC,EAAO,CAC/B,OAAOA,EAAM,IAAIH,CAAU,EAAE,KAAK,EAAE,CACxC,CAGO,SAASI,GAAgB,CACT,IAAIC,EAAe,aAAa,CAC/C,aAAc,MACd,aAAc,GACtB,CAAK,EACU,QAAO,CACtB,CCrBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAI/CF,EAAK,iBAAiB,SAAUG,GAAS,CACrCA,EAAM,eAAc,EACpBF,EAAQ,UAAY,GAEpBG,IAEA,MAAMf,EAAQc,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhDf,EAAUC,CAAK,EACV,KAAKgB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBC,EAAS,MAAM,CACX,QAAS,0EACT,aAAc,UACd,MAAO,UACP,SAAU,UAC9B,CAAiB,EACD,MAEH,KACI,CAED,MAAMC,EAASX,EAAYS,EAAK,IAAI,EACpCJ,EAAQ,UAAYM,EACpBH,IACAN,GAEH,CACb,CAAS,EAEA,MAAMU,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAM,OAAO,QACZM,GACb,CAAS,CAET,CAAC,EAGD,SAASL,GAAa,CAClBF,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASO,GAAa,CAClBP,EAAO,MAAM,QAAU,MAC3B"}